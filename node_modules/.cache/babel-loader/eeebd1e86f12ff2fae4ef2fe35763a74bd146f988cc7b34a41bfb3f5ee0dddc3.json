{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useParams}from'react-router-dom';import'./Alternatives.css';import modelsData from'./models.json';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AlternativesAPI=_ref=>{let{onRestart}=_ref;const{modelId}=useParams();const navigate=useNavigate();const[relatedModels,setRelatedModels]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const model=modelsData.models.find(model=>model.id===parseInt(modelId));useEffect(()=>{if(!model){setLoading(false);setError('Model not found');return;}const fetchRelatedModels=async()=>{try{const results=await Promise.all(['good','better','best'].map(async key=>{const sku=model.relatedModels[key];const response=await fetch(\"https://hayward.com/rest/default/V1/products/\".concat(sku),{headers:{Authorization:\"Bearer 0amuph71141a6n2ac2q9p2lhrotcwobi\"}});if(!response.ok){throw new Error('Network response was not ok');}const result=await response.json();return result;}));setRelatedModels(results);}catch(error){setError(error.message);}finally{setLoading(false);}};fetchRelatedModels();},[model]);const handleRestart=()=>{onRestart();navigate('/');};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"alternatives-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"HAYWARD Alternatives\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-container\",children:relatedModels.map((relatedModel,index)=>{var _relatedModel$custom_,_relatedModel$custom_2,_relatedModel$custom_3;return/*#__PURE__*/_jsxs(\"div\",{className:\"model-card \".concat(['good','better','best'][index]),children:[/*#__PURE__*/_jsx(\"h3\",{children:['Good','Better','Best'][index]}),/*#__PURE__*/_jsx(\"img\",{src:((_relatedModel$custom_=relatedModel.custom_attributes.find(attr=>attr.attribute_code==='image'))===null||_relatedModel$custom_===void 0?void 0:_relatedModel$custom_.value)||'',alt:relatedModel.name}),/*#__PURE__*/_jsx(\"h4\",{children:relatedModel.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"SKU: \",relatedModel.sku]}),/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:((_relatedModel$custom_2=relatedModel.custom_attributes.find(attr=>attr.attribute_code==='description'))===null||_relatedModel$custom_2===void 0?void 0:_relatedModel$custom_2.value)||''}}),/*#__PURE__*/_jsx(\"a\",{href:\"https://hayward.com/\".concat((_relatedModel$custom_3=relatedModel.custom_attributes.find(attr=>attr.attribute_code==='url_key'))===null||_relatedModel$custom_3===void 0?void 0:_relatedModel$custom_3.value),target:\"_blank\",rel:\"noopener noreferrer\",children:\"View Details\"})]},index);})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRestart,children:\"Start Again\"})]});};export default AlternativesAPI;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","modelsData","jsx","_jsx","jsxs","_jsxs","AlternativesAPI","_ref","onRestart","modelId","navigate","relatedModels","setRelatedModels","loading","setLoading","error","setError","model","models","find","id","parseInt","fetchRelatedModels","results","Promise","all","map","key","sku","response","fetch","concat","headers","Authorization","ok","Error","result","json","message","handleRestart","children","className","relatedModel","index","_relatedModel$custom_","_relatedModel$custom_2","_relatedModel$custom_3","src","custom_attributes","attr","attribute_code","value","alt","name","dangerouslySetInnerHTML","__html","href","target","rel","onClick"],"sources":["/Users/jrangel/Documents/dev/cross-reference/src/modules/models/Alternatives.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport './Alternatives.css';\nimport modelsData from './models.json';\n\nconst AlternativesAPI = ({ onRestart }) => {\n  const { modelId } = useParams();\n  const navigate = useNavigate();\n  const [relatedModels, setRelatedModels] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const model = modelsData.models.find(model => model.id === parseInt(modelId));\n\n  useEffect(() => {\n    if (!model) {\n      setLoading(false);\n      setError('Model not found');\n      return;\n    }\n\n    const fetchRelatedModels = async () => {\n      try {\n        const results = await Promise.all(\n          ['good', 'better', 'best'].map(async key => {\n            const sku = model.relatedModels[key];\n            const response = await fetch(\n              `https://hayward.com/rest/default/V1/products/${sku}`,\n              {\n                headers: {\n                  Authorization: \"Bearer 0amuph71141a6n2ac2q9p2lhrotcwobi\",\n                },\n              }\n            );\n            if (!response.ok) {\n              throw new Error('Network response was not ok');\n            }\n            const result = await response.json();\n            return result;\n          })\n        );\n        setRelatedModels(results);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchRelatedModels();\n  }, [model]);\n\n  const handleRestart = () => {\n    onRestart();\n    navigate('/');\n  };\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>Error: {error}</div>;\n  }\n\n  return (\n    <div className=\"alternatives-container\">\n      <h2>HAYWARD Alternatives</h2>\n      <div className=\"flex-container\">\n        {relatedModels.map((relatedModel, index) => (\n          <div key={index} className={`model-card ${['good', 'better', 'best'][index]}`}>\n            <h3>{['Good', 'Better', 'Best'][index]}</h3>\n            <img src={relatedModel.custom_attributes.find(attr => attr.attribute_code === 'image')?.value || ''} alt={relatedModel.name} />\n            <h4>{relatedModel.name}</h4>\n            <p>SKU: {relatedModel.sku}</p>\n            <p dangerouslySetInnerHTML={{ __html: relatedModel.custom_attributes.find(attr => attr.attribute_code === 'description')?.value || '' }}></p>\n            <a href={`https://hayward.com/${relatedModel.custom_attributes.find(attr => attr.attribute_code === 'url_key')?.value}`} target=\"_blank\" rel=\"noopener noreferrer\">View Details</a>\n          </div>\n        ))}\n      </div>\n      <button onClick={handleRestart}>Start Again</button>\n    </div>\n  );\n};\n\nexport default AlternativesAPI;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}