{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation}from'react-router-dom';import ModelsCard from'./ModelsCard';import ModelDetails from'./ModelDetails';import modelsData from'./models.json';import seriesData from'../series/series.json';// Importar datos de series\nimport manufacturersData from'../manufacturers/manufacturers.json';// Importar datos de fabricantes\nimport Pagination from'../../components/pagination/Pagination';import'./Models.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Models=_ref=>{let{onSelectModel}=_ref;const{search}=useLocation();const params=new URLSearchParams(search);const seriesId=params.get('series');const[selectedModel,setSelectedModel]=useState(null);const[currentPage,setCurrentPage]=useState(1);const[searchTerm,setSearchTerm]=useState('');const modelsPerPage=12;useEffect(()=>{setCurrentPage(1);},[seriesId]);// Obtener el fabricante y la serie\nconst series=seriesData.series.find(s=>s.id===parseInt(seriesId));const manufacturer=manufacturersData.manufacturers.find(m=>m.id===(series===null||series===void 0?void 0:series.manufacturerId));const filteredModels=modelsData.models.filter(model=>model.seriesId===parseInt(seriesId)).filter(model=>searchTerm.length<3||model.name.toLowerCase().includes(searchTerm.toLowerCase())||model.sku.toLowerCase().includes(searchTerm.toLowerCase())).sort((a,b)=>a.name.localeCompare(b.name));const totalPages=Math.ceil(filteredModels.length/modelsPerPage);const displayedModels=filteredModels.slice((currentPage-1)*modelsPerPage,currentPage*modelsPerPage);const handleSelectModel=model=>{if(Object.keys(model.additionalAttribute).length===0){onSelectModel(model);}else{setSelectedModel(model);}};const handleDeselectModel=()=>{setSelectedModel(null);};const handleConfirmModel=()=>{if(selectedModel){onSelectModel(selectedModel);}};const handleSearchChange=e=>{setSearchTerm(e.target.value);setCurrentPage(1);};const handlePageChange=page=>{setCurrentPage(page);setSelectedModel(null);};const startModel=(currentPage-1)*modelsPerPage+1;const endModel=Math.min(startModel+modelsPerPage-1,filteredModels.length);return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mb-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex align-items-end\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 d-flex flex-wrap align-items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:manufacturer===null||manufacturer===void 0?void 0:manufacturer.logo,alt:manufacturer===null||manufacturer===void 0?void 0:manufacturer.name,className:\"img-fluid me-2 border\",style:{height:'100px'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"ps-2\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"m-0\",children:[manufacturer===null||manufacturer===void 0?void 0:manufacturer.name,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold\",children:\"Models\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"w-100 m-0\",children:[\"We found \",filteredModels.length,\" elements\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 d-flex justify-content-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"filter-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Filter...\",value:searchTerm,onChange:handleSearchChange,className:\"search-input\"}),/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-search\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex flex-wrap p-2\",children:displayedModels.map(model=>/*#__PURE__*/_jsx(ModelsCard,{model:model,isActive:selectedModel&&selectedModel.id===model.id,onSelect:()=>handleSelectModel(model)},model.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:filteredModels.length>modelsPerPage&&/*#__PURE__*/_jsx(Pagination,{currentPage:currentPage,totalPages:totalPages,onPageChange:handlePageChange})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:selectedModel&&/*#__PURE__*/_jsx(\"div\",{className:\"model-details-overlay\",children:/*#__PURE__*/_jsx(ModelDetails,{model:selectedModel,onDeselect:handleDeselectModel,onConfirm:handleConfirmModel})})})]});};export default Models;","map":{"version":3,"names":["React","useState","useEffect","useLocation","ModelsCard","ModelDetails","modelsData","seriesData","manufacturersData","Pagination","jsx","_jsx","jsxs","_jsxs","Models","_ref","onSelectModel","search","params","URLSearchParams","seriesId","get","selectedModel","setSelectedModel","currentPage","setCurrentPage","searchTerm","setSearchTerm","modelsPerPage","series","find","s","id","parseInt","manufacturer","manufacturers","m","manufacturerId","filteredModels","models","filter","model","length","name","toLowerCase","includes","sku","sort","a","b","localeCompare","totalPages","Math","ceil","displayedModels","slice","handleSelectModel","Object","keys","additionalAttribute","handleDeselectModel","handleConfirmModel","handleSearchChange","e","target","value","handlePageChange","page","startModel","endModel","min","className","children","src","logo","alt","style","height","type","placeholder","onChange","map","isActive","onSelect","onPageChange","onDeselect","onConfirm"],"sources":["/Users/jrangel/Documents/dev/cross-reference-git/src/modules/models/Models.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport ModelsCard from './ModelsCard';\nimport ModelDetails from './ModelDetails';\nimport modelsData from './models.json';\nimport seriesData from '../series/series.json'; // Importar datos de series\nimport manufacturersData from '../manufacturers/manufacturers.json'; // Importar datos de fabricantes\nimport Pagination from '../../components/pagination/Pagination';\nimport './Models.css';\n\nconst Models = ({ onSelectModel }) => {\n  const { search } = useLocation();\n  const params = new URLSearchParams(search);\n  const seriesId = params.get('series');\n  const [selectedModel, setSelectedModel] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const modelsPerPage = 12;\n\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [seriesId]);\n\n  // Obtener el fabricante y la serie\n  const series = seriesData.series.find(s => s.id === parseInt(seriesId));\n  const manufacturer = manufacturersData.manufacturers.find(m => m.id === series?.manufacturerId);\n\n  const filteredModels = modelsData.models.filter(\n    (model) => model.seriesId === parseInt(seriesId)\n  ).filter(\n    (model) => searchTerm.length < 3 || \n    model.name.toLowerCase().includes(searchTerm.toLowerCase()) || \n    model.sku.toLowerCase().includes(searchTerm.toLowerCase())\n  ).sort((a, b) => a.name.localeCompare(b.name));\n\n  const totalPages = Math.ceil(filteredModels.length / modelsPerPage);\n  const displayedModels = filteredModels.slice((currentPage - 1) * modelsPerPage, currentPage * modelsPerPage);\n\n  const handleSelectModel = (model) => {\n    if (Object.keys(model.additionalAttribute).length === 0) {\n      onSelectModel(model);\n    } else {\n      setSelectedModel(model);\n    }\n  };\n\n  const handleDeselectModel = () => {\n    setSelectedModel(null);\n  };\n\n  const handleConfirmModel = () => {\n    if (selectedModel) {\n      onSelectModel(selectedModel);\n    }\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n    setCurrentPage(1);\n  };\n\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n    setSelectedModel(null);\n  };\n\n  const startModel = (currentPage - 1) * modelsPerPage + 1;\n  const endModel = Math.min(startModel + modelsPerPage - 1, filteredModels.length);\n\n  return (\n    <div className=\"container-fluid mb-5\">\n      <div className=\"row d-flex align-items-end\">\n        <div className=\"col-6 d-flex flex-wrap align-items-center\">\n          <img src={manufacturer?.logo} alt={manufacturer?.name} className=\"img-fluid me-2 border\" style={{ height: '100px' }} />\n          <div className='ps-2'>\n            <h4 className='m-0'>{manufacturer?.name} <span className='fw-bold'>Models</span></h4>\n            <p className='w-100 m-0'>We found {filteredModels.length} elements</p>\n          </div>\n        </div>\n        <div className=\"col-6 d-flex justify-content-end\">\n          <div className=\"filter-container\">\n            <input\n              type=\"text\"\n              placeholder=\"Filter...\"\n              value={searchTerm}\n              onChange={handleSearchChange}\n              className=\"search-input\"\n            />\n            <i className=\"bi bi-search\"></i>\n          </div>  \n        </div>\n      </div>\n      <div className=\"row d-flex flex-wrap p-2\">\n        {displayedModels.map(model => (\n          <ModelsCard\n            key={model.id}\n            model={model}\n            isActive={selectedModel && selectedModel.id === model.id}\n            onSelect={() => handleSelectModel(model)}\n          />\n        ))}\n      </div>\n      <div className=\"row\">\n        <div className='col-12'>\n          {filteredModels.length > modelsPerPage && (\n            <Pagination currentPage={currentPage} totalPages={totalPages} onPageChange={handlePageChange} />\n          )}\n        </div>\n      </div>\n\n      <div className='row'>\n        {selectedModel && (\n          <div className=\"model-details-overlay\">\n            <ModelDetails model={selectedModel} onDeselect={handleDeselectModel} onConfirm={handleConfirmModel} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Models;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}