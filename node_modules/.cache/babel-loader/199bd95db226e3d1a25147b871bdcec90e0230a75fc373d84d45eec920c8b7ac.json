{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import'./Alternatives.css';import modelsData from'./models.json';import mockData from'./mockData.json';import categoriesData from'../categories/categories.json';import manufacturersData from'../manufacturers/manufacturers.json';import seriesData from'../series/series.json';import{jsPDF}from'jspdf';import html2canvas from'html2canvas';import QRious from'qrious';import{IS_LOCAL}from'../../config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const fetchHaywardProduct=async sku=>{try{const response=await fetch(\"https://mcstaging.hayward.com/rest/default/V1/products/\".concat(sku),// Simplificado para buscar directamente por SKU\n{headers:{Authorization:\"Bearer 3b5kg5eu34t3gdmkiph3m1aqcgun8cu6\"}});if(!response.ok){throw new Error('Network response was not ok');}const result=await response.json();return result;// Devuelve el resultado completo en lugar de `result.items[0]`\n}catch(error){console.error(\"Fetch error: \",error);throw error;}};const truncateDescription=(description,maxLength)=>{if(description.length<=maxLength)return description;return description.slice(0,maxLength)+'...';};const Alternatives=_ref=>{let{onRestart}=_ref;const{search}=useLocation();const params=new URLSearchParams(search);const modelId=params.get('model');const navigate=useNavigate();const[relatedModels,setRelatedModels]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const model=modelsData.models.find(model=>model.id===parseInt(modelId));useEffect(()=>{if(!model){setLoading(false);setError('Model not found');return;}const fetchRelatedModels=async()=>{try{const results=await Promise.all(['best','better','good'].map(async key=>{const sku=model.relatedModels[key];if(sku&&sku.trim()){try{if(IS_LOCAL){const result=mockData[sku.trim()];if(!result){throw new Error('Please try other product');}return{key,result};}else{const result=await fetchHaywardProduct(sku.trim());if(!result){throw new Error('Please try other product');}return{key,result};// Ajustado para la nueva estructura de respuesta\n}}catch(err){return{key,error:err.message};}}return null;}));const filteredResults=results.filter(result=>result!==null);if(filteredResults.length===0){throw new Error('No related models found.');}// Rearrange the results based on availability\nconst finalResults={best:null,better:null,good:null};filteredResults.forEach(item=>{if(item.key==='best')finalResults.best=item;if(item.key==='better')finalResults.better=item;if(item.key==='good')finalResults.good=item;});// Adjust the positions\nif(!finalResults.best&&finalResults.better){finalResults.best={...finalResults.better,key:'best'};finalResults.better=finalResults.good?{...finalResults.good,key:'better'}:null;finalResults.good=null;}if(!finalResults.best&&finalResults.good){finalResults.best={...finalResults.good,key:'best'};finalResults.good=null;}if(!finalResults.better&&finalResults.good){finalResults.better={...finalResults.good,key:'better'};finalResults.good=null;}setRelatedModels([finalResults.best,finalResults.better].filter(item=>item!==null));}catch(error){setError(error.message);}finally{setLoading(false);}};fetchRelatedModels();},[model]);useEffect(()=>{if(model){const category=categoriesData.categories.find(category=>category.id===model.categoryId);const manufacturer=manufacturersData.manufacturers.find(manufacturer=>manufacturer.id===model.manufacturerId);const series=seriesData.series.find(series=>series.id===model.seriesId);if(category&&manufacturer&&series){navigate(\"/?tab=alternative&category=\".concat(category.code,\"&manufacturer=\").concat(manufacturer.code,\"&series=\").concat(series.id,\"&model=\").concat(model.id,\"&sku=\").concat(model.sku));}}},[model,navigate]);const createPdfStructure=async()=>{const pdf=new jsPDF('p','mm','a4');const content=document.getElementById('pdf-content');pdf.setFontSize(18);pdf.text('Hayward Best-in-Class Options',10,20);const canvas=await html2canvas(content,{ignoreElements:element=>element.classList.contains('no-print')});const imgData=canvas.toDataURL('image/png');const imgProps=pdf.getImageProperties(imgData);const pdfWidth=pdf.internal.pageSize.getWidth();const pdfHeight=imgProps.height*pdfWidth/imgProps.width;pdf.addImage(imgData,'PNG',0,30,pdfWidth,pdfHeight);const qr=new QRious({value:window.location.href,size:100});const qrImage=qr.toDataURL('image/jpeg');pdf.addImage(qrImage,'JPEG',pdf.internal.pageSize.getWidth()-40,pdf.internal.pageSize.getHeight()-40,30,30);pdf.save('hayward-alternatives.pdf');};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});}const category=categoriesData.categories.find(category=>category.id===model.categoryId);const manufacturer=manufacturersData.manufacturers.find(manufacturer=>manufacturer.id===model.manufacturerId);const series=seriesData.series.find(series=>series.id===model.seriesId);return/*#__PURE__*/_jsxs(\"div\",{className:\"alternatives-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title mt-3 mb-5\",children:\"Our Best-in-Class Options\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"pdf-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-container\",children:relatedModels.map((_ref2,index)=>{var _result$custom_attrib,_result$media_gallery;let{key,result,error}=_ref2;if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-3 model-card \".concat(key,\" d-flex flex-wrap justify-content-center\"),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"d-flex justify-content-center align-items-center\",children:key.charAt(0).toUpperCase()+key.slice(1)}),/*#__PURE__*/_jsx(\"p\",{children:error})]},index);}const descriptionAttribute=result.custom_attributes.find(attr=>attr.attribute_code==='marketing_short_description');const description=descriptionAttribute?descriptionAttribute.value:'No description available';const truncatedDescription=truncateDescription(description,150);const productUrl=\"\".concat(window.location.origin,\"/\").concat(((_result$custom_attrib=result.custom_attributes.find(attr=>attr.attribute_code==='url_key'))===null||_result$custom_attrib===void 0?void 0:_result$custom_attrib.value)||'#',\"-\").concat(result.sku,\".html\");return/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-3 model-card \".concat(key,\" d-flex flex-wrap justify-content-center\"),children:[/*#__PURE__*/_jsx(\"h3\",{className:\"d-flex justify-content-center align-items-center\",children:key.charAt(0).toUpperCase()+key.slice(1)}),/*#__PURE__*/_jsx(\"img\",{src:\"/media/catalog/product/\".concat((_result$media_gallery=result.media_gallery_entries[0])===null||_result$media_gallery===void 0?void 0:_result$media_gallery.file),alt:result.name,className:\"img-fluid\"}),/*#__PURE__*/_jsx(\"h4\",{children:result.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"SKU: \",result.sku]}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:truncatedDescription}),/*#__PURE__*/_jsx(\"a\",{className:\"rounded-pill\",href:productUrl,target:\"_blank\",rel:\"noopener noreferrer\",children:\"View Details\"})]},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 d-flex justify-content-center hide no-print\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:createPdfStructure,className:\"btn btn-light rounded-pill px-5 py-3 my-3\",children:[\"Download PDF\",/*#__PURE__*/_jsx(\"img\",{src:\"/media/wysiwyg/cms/tools/cross-reference/print.png\",alt:\"Print\",className:\"ms-3\",style:{width:'16px',height:'16px'}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 p-5 mt-4 bg-light d-flex flex-wrap\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"w-100\",children:\"Current Product to Replace\"}),/*#__PURE__*/_jsx(\"p\",{className:\"w-100\",children:\"The product you wish to replace is shown below. We have listed on top the alternatives for your selection\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\",children:/*#__PURE__*/_jsx(\"img\",{src:manufacturer===null||manufacturer===void 0?void 0:manufacturer.logo,alt:manufacturer===null||manufacturer===void 0?void 0:manufacturer.name,className:\"manufacturer-logo p-3 bg-white rounded shadow-sm mb-3\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-center ps-3 flex-fill\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"m-0\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Category:\"}),\" \",category===null||category===void 0?void 0:category.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"m-0\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Manufacturer:\"}),\" \",manufacturer===null||manufacturer===void 0?void 0:manufacturer.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"m-0\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Series:\"}),\" \",series===null||series===void 0?void 0:series.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"m-0\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Model:\"}),\" \",model===null||model===void 0?void 0:model.name]})]})]})]})]});};export default Alternatives;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","modelsData","mockData","categoriesData","manufacturersData","seriesData","jsPDF","html2canvas","QRious","IS_LOCAL","jsx","_jsx","jsxs","_jsxs","fetchHaywardProduct","sku","response","fetch","concat","headers","Authorization","ok","Error","result","json","error","console","truncateDescription","description","maxLength","length","slice","Alternatives","_ref","onRestart","search","params","URLSearchParams","modelId","get","navigate","relatedModels","setRelatedModels","loading","setLoading","setError","model","models","find","id","parseInt","fetchRelatedModels","results","Promise","all","map","key","trim","err","message","filteredResults","filter","finalResults","best","better","good","forEach","item","category","categories","categoryId","manufacturer","manufacturers","manufacturerId","series","seriesId","code","createPdfStructure","pdf","content","document","getElementById","setFontSize","text","canvas","ignoreElements","element","classList","contains","imgData","toDataURL","imgProps","getImageProperties","pdfWidth","internal","pageSize","getWidth","pdfHeight","height","width","addImage","qr","value","window","location","href","size","qrImage","getHeight","save","children","className","_ref2","index","_result$custom_attrib","_result$media_gallery","charAt","toUpperCase","descriptionAttribute","custom_attributes","attr","attribute_code","truncatedDescription","productUrl","origin","src","media_gallery_entries","file","alt","name","target","rel","onClick","style","logo"],"sources":["/Users/jrangel/Documents/dev/cross-reference-git/src/modules/models/Alternatives.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport './Alternatives.css';\nimport modelsData from './models.json';\nimport mockData from './mockData.json';\nimport categoriesData from '../categories/categories.json';\nimport manufacturersData from '../manufacturers/manufacturers.json';\nimport seriesData from '../series/series.json';\nimport { jsPDF } from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport QRious from 'qrious';\nimport { IS_LOCAL } from '../../config';\n\nconst fetchHaywardProduct = async (sku) => {\n  try {\n    const response = await fetch(\n      `https://mcstaging.hayward.com/rest/default/V1/products/${sku}`, // Simplificado para buscar directamente por SKU\n      {\n        headers: {\n          Authorization: \"Bearer 3b5kg5eu34t3gdmkiph3m1aqcgun8cu6\",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n\n    const result = await response.json();\n    return result; // Devuelve el resultado completo en lugar de `result.items[0]`\n  } catch (error) {\n    console.error(\"Fetch error: \", error);\n    throw error;\n  }\n};\n\nconst truncateDescription = (description, maxLength) => {\n  if (description.length <= maxLength) return description;\n  return description.slice(0, maxLength) + '...';\n};\n\nconst Alternatives = ({ onRestart }) => {\n  const { search } = useLocation();\n  const params = new URLSearchParams(search);\n  const modelId = params.get('model');\n  const navigate = useNavigate();\n  const [relatedModels, setRelatedModels] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const model = modelsData.models.find(model => model.id === parseInt(modelId));\n\n  useEffect(() => {\n    if (!model) {\n      setLoading(false);\n      setError('Model not found');\n      return;\n    }\n\n    const fetchRelatedModels = async () => {\n      try {\n        const results = await Promise.all(\n          ['best', 'better', 'good'].map(async key => {\n            const sku = model.relatedModels[key];\n            if (sku && sku.trim()) {\n              try {\n                if (IS_LOCAL) {\n                  const result = mockData[sku.trim()];\n                  if (!result) {\n                    throw new Error('Please try other product');\n                  }\n                  return { key, result };\n                } else {\n                  const result = await fetchHaywardProduct(sku.trim());\n                  if (!result) {\n                    throw new Error('Please try other product');\n                  }\n                  return { key, result }; // Ajustado para la nueva estructura de respuesta\n                }\n              } catch (err) {\n                return { key, error: err.message };\n              }\n            }\n            return null;\n          })\n        );\n\n        const filteredResults = results.filter(result => result !== null);\n        if (filteredResults.length === 0) {\n          throw new Error('No related models found.');\n        }\n\n        // Rearrange the results based on availability\n        const finalResults = { best: null, better: null, good: null };\n        filteredResults.forEach(item => {\n          if (item.key === 'best') finalResults.best = item;\n          if (item.key === 'better') finalResults.better = item;\n          if (item.key === 'good') finalResults.good = item;\n        });\n\n        // Adjust the positions\n        if (!finalResults.best && finalResults.better) {\n          finalResults.best = { ...finalResults.better, key: 'best' };\n          finalResults.better = finalResults.good ? { ...finalResults.good, key: 'better' } : null;\n          finalResults.good = null;\n        }\n\n        if (!finalResults.best && finalResults.good) {\n          finalResults.best = { ...finalResults.good, key: 'best' };\n          finalResults.good = null;\n        }\n\n        if (!finalResults.better && finalResults.good) {\n          finalResults.better = { ...finalResults.good, key: 'better' };\n          finalResults.good = null;\n        }\n\n        setRelatedModels([finalResults.best, finalResults.better].filter(item => item !== null));\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchRelatedModels();\n  }, [model]);\n\n  useEffect(() => {\n    if (model) {\n      const category = categoriesData.categories.find(category => category.id === model.categoryId);\n      const manufacturer = manufacturersData.manufacturers.find(manufacturer => manufacturer.id === model.manufacturerId);\n      const series = seriesData.series.find(series => series.id === model.seriesId);\n\n      if (category && manufacturer && series) {\n        navigate(`/?tab=alternative&category=${category.code}&manufacturer=${manufacturer.code}&series=${series.id}&model=${model.id}&sku=${model.sku}`);\n      }\n    }\n  }, [model, navigate]);\n\n  const createPdfStructure = async () => {\n    const pdf = new jsPDF('p', 'mm', 'a4');\n    const content = document.getElementById('pdf-content');\n\n    pdf.setFontSize(18);\n    pdf.text('Hayward Best-in-Class Options', 10, 20);\n\n    const canvas = await html2canvas(content, {\n      ignoreElements: (element) => element.classList.contains('no-print')\n    });\n    const imgData = canvas.toDataURL('image/png');\n    const imgProps = pdf.getImageProperties(imgData);\n    const pdfWidth = pdf.internal.pageSize.getWidth();\n    const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;\n\n    pdf.addImage(imgData, 'PNG', 0, 30, pdfWidth, pdfHeight);\n\n    const qr = new QRious({\n      value: window.location.href,\n      size: 100\n    });\n    const qrImage = qr.toDataURL('image/jpeg');\n\n    pdf.addImage(qrImage, 'JPEG', pdf.internal.pageSize.getWidth() - 40, pdf.internal.pageSize.getHeight() - 40, 30, 30);\n\n    pdf.save('hayward-alternatives.pdf');\n  };\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>Error: {error}</div>;\n  }\n\n  const category = categoriesData.categories.find(category => category.id === model.categoryId);\n  const manufacturer = manufacturersData.manufacturers.find(manufacturer => manufacturer.id === model.manufacturerId);\n  const series = seriesData.series.find(series => series.id === model.seriesId);\n\n  return (\n    <div className=\"alternatives-container\">\n      <h2 className='title mt-3 mb-5'>Our Best-in-Class Options</h2>\n      \n      <div id=\"pdf-content\">\n        <div className=\"flex-container\">\n          {relatedModels.map(({ key, result, error }, index) => {\n            if (error) {\n              return (\n                <div key={index} className={`col-12 col-md-3 model-card ${key} d-flex flex-wrap justify-content-center`}>\n                  <h3 className='d-flex justify-content-center align-items-center'>{key.charAt(0).toUpperCase() + key.slice(1)}</h3>\n                  <p>{error}</p>\n                </div>\n              );\n            }\n\n            const descriptionAttribute = result.custom_attributes.find(attr => attr.attribute_code === 'marketing_short_description');\n            const description = descriptionAttribute ? descriptionAttribute.value : 'No description available';\n            const truncatedDescription = truncateDescription(description, 150);\n            const productUrl = `${window.location.origin}/${result.custom_attributes.find(attr => attr.attribute_code === 'url_key')?.value || '#'}-${result.sku}.html`;\n\n            return (\n              <div key={index} className={`col-12 col-md-3 model-card ${key} d-flex flex-wrap justify-content-center`}>\n                <h3 className='d-flex justify-content-center align-items-center'>{key.charAt(0).toUpperCase() + key.slice(1)}</h3>\n                <img src={`/media/catalog/product/${result.media_gallery_entries[0]?.file}`} alt={result.name} className=\"img-fluid\" />\n                <h4>{result.name}</h4>\n                <p>SKU: {result.sku}</p>\n                <p className='description'>{truncatedDescription}</p>\n                <a \n                  className='rounded-pill' \n                  href={productUrl} \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                >\n                  View Details\n                </a>\n              </div>\n            );\n          })}\n        </div>\n        <div className='col-12 d-flex justify-content-center hide no-print'>\n          <button onClick={createPdfStructure} className=\"btn btn-light rounded-pill px-5 py-3 my-3\">\n            Download PDF\n            <img src=\"/media/wysiwyg/cms/tools/cross-reference/print.png\" alt=\"Print\" className=\"ms-3\" style={{ width: '16px', height: '16px' }} />\n          </button>\n        </div>\n        <div className=\"col-12 p-5 mt-4 bg-light d-flex flex-wrap\">\n        <h3 className='w-100'>Current Product to Replace</h3>\n          <p className='w-100'>The product you wish to replace is shown below. We have listed on top the alternatives for your selection</p>\n          <div className='d-flex align-items-center'>\n            <img src={manufacturer?.logo} alt={manufacturer?.name} className=\"manufacturer-logo p-3 bg-white rounded shadow-sm mb-3\"/>\n          </div>\n          <div className='d-flex flex-column justify-content-center ps-3 flex-fill'>\n            <p className='m-0'><strong>Category:</strong> {category?.name}</p>\n            <p className='m-0'><strong>Manufacturer:</strong> {manufacturer?.name}</p>\n            <p className='m-0'><strong>Series:</strong> {series?.name}</p>\n            <p className='m-0'><strong>Model:</strong> {model?.name}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Alternatives;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,MAAO,oBAAoB,CAC3B,MAAO,CAAAC,UAAU,KAAM,eAAe,CACtC,MAAO,CAAAC,QAAQ,KAAM,iBAAiB,CACtC,MAAO,CAAAC,cAAc,KAAM,+BAA+B,CAC1D,MAAO,CAAAC,iBAAiB,KAAM,qCAAqC,CACnE,MAAO,CAAAC,UAAU,KAAM,uBAAuB,CAC9C,OAASC,KAAK,KAAQ,OAAO,CAC7B,MAAO,CAAAC,WAAW,KAAM,aAAa,CACrC,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAC3B,OAASC,QAAQ,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,mBAAmB,CAAG,KAAO,CAAAC,GAAG,EAAK,CACzC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,2DAAAC,MAAA,CACgCH,GAAG,EAAI;AACjE,CACEI,OAAO,CAAE,CACPC,aAAa,CAAE,yCACjB,CACF,CACF,CAAC,CAED,GAAI,CAACJ,QAAQ,CAACK,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAChD,CAEA,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CACpC,MAAO,CAAAD,MAAM,CAAE;AACjB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrC,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,KAAM,CAAAE,mBAAmB,CAAGA,CAACC,WAAW,CAAEC,SAAS,GAAK,CACtD,GAAID,WAAW,CAACE,MAAM,EAAID,SAAS,CAAE,MAAO,CAAAD,WAAW,CACvD,MAAO,CAAAA,WAAW,CAACG,KAAK,CAAC,CAAC,CAAEF,SAAS,CAAC,CAAG,KAAK,CAChD,CAAC,CAED,KAAM,CAAAG,YAAY,CAAGC,IAAA,EAAmB,IAAlB,CAAEC,SAAU,CAAC,CAAAD,IAAA,CACjC,KAAM,CAAEE,MAAO,CAAC,CAAGnC,WAAW,CAAC,CAAC,CAChC,KAAM,CAAAoC,MAAM,CAAG,GAAI,CAAAC,eAAe,CAACF,MAAM,CAAC,CAC1C,KAAM,CAAAG,OAAO,CAAGF,MAAM,CAACG,GAAG,CAAC,OAAO,CAAC,CACnC,KAAM,CAAAC,QAAQ,CAAGzC,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAC0C,aAAa,CAAEC,gBAAgB,CAAC,CAAG7C,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAC8C,OAAO,CAAEC,UAAU,CAAC,CAAG/C,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC4B,KAAK,CAAEoB,QAAQ,CAAC,CAAGhD,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAiD,KAAK,CAAG7C,UAAU,CAAC8C,MAAM,CAACC,IAAI,CAACF,KAAK,EAAIA,KAAK,CAACG,EAAE,GAAKC,QAAQ,CAACZ,OAAO,CAAC,CAAC,CAE7ExC,SAAS,CAAC,IAAM,CACd,GAAI,CAACgD,KAAK,CAAE,CACVF,UAAU,CAAC,KAAK,CAAC,CACjBC,QAAQ,CAAC,iBAAiB,CAAC,CAC3B,OACF,CAEA,KAAM,CAAAM,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAC/B,CAAC,MAAM,CAAE,QAAQ,CAAE,MAAM,CAAC,CAACC,GAAG,CAAC,KAAM,CAAAC,GAAG,EAAI,CAC1C,KAAM,CAAAzC,GAAG,CAAG+B,KAAK,CAACL,aAAa,CAACe,GAAG,CAAC,CACpC,GAAIzC,GAAG,EAAIA,GAAG,CAAC0C,IAAI,CAAC,CAAC,CAAE,CACrB,GAAI,CACF,GAAIhD,QAAQ,CAAE,CACZ,KAAM,CAAAc,MAAM,CAAGrB,QAAQ,CAACa,GAAG,CAAC0C,IAAI,CAAC,CAAC,CAAC,CACnC,GAAI,CAAClC,MAAM,CAAE,CACX,KAAM,IAAI,CAAAD,KAAK,CAAC,0BAA0B,CAAC,CAC7C,CACA,MAAO,CAAEkC,GAAG,CAAEjC,MAAO,CAAC,CACxB,CAAC,IAAM,CACL,KAAM,CAAAA,MAAM,CAAG,KAAM,CAAAT,mBAAmB,CAACC,GAAG,CAAC0C,IAAI,CAAC,CAAC,CAAC,CACpD,GAAI,CAAClC,MAAM,CAAE,CACX,KAAM,IAAI,CAAAD,KAAK,CAAC,0BAA0B,CAAC,CAC7C,CACA,MAAO,CAAEkC,GAAG,CAAEjC,MAAO,CAAC,CAAE;AAC1B,CACF,CAAE,MAAOmC,GAAG,CAAE,CACZ,MAAO,CAAEF,GAAG,CAAE/B,KAAK,CAAEiC,GAAG,CAACC,OAAQ,CAAC,CACpC,CACF,CACA,MAAO,KAAI,CACb,CAAC,CACH,CAAC,CAED,KAAM,CAAAC,eAAe,CAAGR,OAAO,CAACS,MAAM,CAACtC,MAAM,EAAIA,MAAM,GAAK,IAAI,CAAC,CACjE,GAAIqC,eAAe,CAAC9B,MAAM,GAAK,CAAC,CAAE,CAChC,KAAM,IAAI,CAAAR,KAAK,CAAC,0BAA0B,CAAC,CAC7C,CAEA;AACA,KAAM,CAAAwC,YAAY,CAAG,CAAEC,IAAI,CAAE,IAAI,CAAEC,MAAM,CAAE,IAAI,CAAEC,IAAI,CAAE,IAAK,CAAC,CAC7DL,eAAe,CAACM,OAAO,CAACC,IAAI,EAAI,CAC9B,GAAIA,IAAI,CAACX,GAAG,GAAK,MAAM,CAAEM,YAAY,CAACC,IAAI,CAAGI,IAAI,CACjD,GAAIA,IAAI,CAACX,GAAG,GAAK,QAAQ,CAAEM,YAAY,CAACE,MAAM,CAAGG,IAAI,CACrD,GAAIA,IAAI,CAACX,GAAG,GAAK,MAAM,CAAEM,YAAY,CAACG,IAAI,CAAGE,IAAI,CACnD,CAAC,CAAC,CAEF;AACA,GAAI,CAACL,YAAY,CAACC,IAAI,EAAID,YAAY,CAACE,MAAM,CAAE,CAC7CF,YAAY,CAACC,IAAI,CAAG,CAAE,GAAGD,YAAY,CAACE,MAAM,CAAER,GAAG,CAAE,MAAO,CAAC,CAC3DM,YAAY,CAACE,MAAM,CAAGF,YAAY,CAACG,IAAI,CAAG,CAAE,GAAGH,YAAY,CAACG,IAAI,CAAET,GAAG,CAAE,QAAS,CAAC,CAAG,IAAI,CACxFM,YAAY,CAACG,IAAI,CAAG,IAAI,CAC1B,CAEA,GAAI,CAACH,YAAY,CAACC,IAAI,EAAID,YAAY,CAACG,IAAI,CAAE,CAC3CH,YAAY,CAACC,IAAI,CAAG,CAAE,GAAGD,YAAY,CAACG,IAAI,CAAET,GAAG,CAAE,MAAO,CAAC,CACzDM,YAAY,CAACG,IAAI,CAAG,IAAI,CAC1B,CAEA,GAAI,CAACH,YAAY,CAACE,MAAM,EAAIF,YAAY,CAACG,IAAI,CAAE,CAC7CH,YAAY,CAACE,MAAM,CAAG,CAAE,GAAGF,YAAY,CAACG,IAAI,CAAET,GAAG,CAAE,QAAS,CAAC,CAC7DM,YAAY,CAACG,IAAI,CAAG,IAAI,CAC1B,CAEAvB,gBAAgB,CAAC,CAACoB,YAAY,CAACC,IAAI,CAAED,YAAY,CAACE,MAAM,CAAC,CAACH,MAAM,CAACM,IAAI,EAAIA,IAAI,GAAK,IAAI,CAAC,CAAC,CAC1F,CAAE,MAAO1C,KAAK,CAAE,CACdoB,QAAQ,CAACpB,KAAK,CAACkC,OAAO,CAAC,CACzB,CAAC,OAAS,CACRf,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDO,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,CAACL,KAAK,CAAC,CAAC,CAEXhD,SAAS,CAAC,IAAM,CACd,GAAIgD,KAAK,CAAE,CACT,KAAM,CAAAsB,QAAQ,CAAGjE,cAAc,CAACkE,UAAU,CAACrB,IAAI,CAACoB,QAAQ,EAAIA,QAAQ,CAACnB,EAAE,GAAKH,KAAK,CAACwB,UAAU,CAAC,CAC7F,KAAM,CAAAC,YAAY,CAAGnE,iBAAiB,CAACoE,aAAa,CAACxB,IAAI,CAACuB,YAAY,EAAIA,YAAY,CAACtB,EAAE,GAAKH,KAAK,CAAC2B,cAAc,CAAC,CACnH,KAAM,CAAAC,MAAM,CAAGrE,UAAU,CAACqE,MAAM,CAAC1B,IAAI,CAAC0B,MAAM,EAAIA,MAAM,CAACzB,EAAE,GAAKH,KAAK,CAAC6B,QAAQ,CAAC,CAE7E,GAAIP,QAAQ,EAAIG,YAAY,EAAIG,MAAM,CAAE,CACtClC,QAAQ,+BAAAtB,MAAA,CAA+BkD,QAAQ,CAACQ,IAAI,mBAAA1D,MAAA,CAAiBqD,YAAY,CAACK,IAAI,aAAA1D,MAAA,CAAWwD,MAAM,CAACzB,EAAE,YAAA/B,MAAA,CAAU4B,KAAK,CAACG,EAAE,UAAA/B,MAAA,CAAQ4B,KAAK,CAAC/B,GAAG,CAAE,CAAC,CAClJ,CACF,CACF,CAAC,CAAE,CAAC+B,KAAK,CAAEN,QAAQ,CAAC,CAAC,CAErB,KAAM,CAAAqC,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAxE,KAAK,CAAC,GAAG,CAAE,IAAI,CAAE,IAAI,CAAC,CACtC,KAAM,CAAAyE,OAAO,CAAGC,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC,CAEtDH,GAAG,CAACI,WAAW,CAAC,EAAE,CAAC,CACnBJ,GAAG,CAACK,IAAI,CAAC,+BAA+B,CAAE,EAAE,CAAE,EAAE,CAAC,CAEjD,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAA7E,WAAW,CAACwE,OAAO,CAAE,CACxCM,cAAc,CAAGC,OAAO,EAAKA,OAAO,CAACC,SAAS,CAACC,QAAQ,CAAC,UAAU,CACpE,CAAC,CAAC,CACF,KAAM,CAAAC,OAAO,CAAGL,MAAM,CAACM,SAAS,CAAC,WAAW,CAAC,CAC7C,KAAM,CAAAC,QAAQ,CAAGb,GAAG,CAACc,kBAAkB,CAACH,OAAO,CAAC,CAChD,KAAM,CAAAI,QAAQ,CAAGf,GAAG,CAACgB,QAAQ,CAACC,QAAQ,CAACC,QAAQ,CAAC,CAAC,CACjD,KAAM,CAAAC,SAAS,CAAIN,QAAQ,CAACO,MAAM,CAAGL,QAAQ,CAAIF,QAAQ,CAACQ,KAAK,CAE/DrB,GAAG,CAACsB,QAAQ,CAACX,OAAO,CAAE,KAAK,CAAE,CAAC,CAAE,EAAE,CAAEI,QAAQ,CAAEI,SAAS,CAAC,CAExD,KAAM,CAAAI,EAAE,CAAG,GAAI,CAAA7F,MAAM,CAAC,CACpB8F,KAAK,CAAEC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAC3BC,IAAI,CAAE,GACR,CAAC,CAAC,CACF,KAAM,CAAAC,OAAO,CAAGN,EAAE,CAACX,SAAS,CAAC,YAAY,CAAC,CAE1CZ,GAAG,CAACsB,QAAQ,CAACO,OAAO,CAAE,MAAM,CAAE7B,GAAG,CAACgB,QAAQ,CAACC,QAAQ,CAACC,QAAQ,CAAC,CAAC,CAAG,EAAE,CAAElB,GAAG,CAACgB,QAAQ,CAACC,QAAQ,CAACa,SAAS,CAAC,CAAC,CAAG,EAAE,CAAE,EAAE,CAAE,EAAE,CAAC,CAEpH9B,GAAG,CAAC+B,IAAI,CAAC,0BAA0B,CAAC,CACtC,CAAC,CAED,GAAIlE,OAAO,CAAE,CACX,mBAAOhC,IAAA,QAAAmG,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAEA,GAAIrF,KAAK,CAAE,CACT,mBAAOZ,KAAA,QAAAiG,QAAA,EAAK,SAAO,CAACrF,KAAK,EAAM,CAAC,CAClC,CAEA,KAAM,CAAA2C,QAAQ,CAAGjE,cAAc,CAACkE,UAAU,CAACrB,IAAI,CAACoB,QAAQ,EAAIA,QAAQ,CAACnB,EAAE,GAAKH,KAAK,CAACwB,UAAU,CAAC,CAC7F,KAAM,CAAAC,YAAY,CAAGnE,iBAAiB,CAACoE,aAAa,CAACxB,IAAI,CAACuB,YAAY,EAAIA,YAAY,CAACtB,EAAE,GAAKH,KAAK,CAAC2B,cAAc,CAAC,CACnH,KAAM,CAAAC,MAAM,CAAGrE,UAAU,CAACqE,MAAM,CAAC1B,IAAI,CAAC0B,MAAM,EAAIA,MAAM,CAACzB,EAAE,GAAKH,KAAK,CAAC6B,QAAQ,CAAC,CAE7E,mBACE9D,KAAA,QAAKkG,SAAS,CAAC,wBAAwB,CAAAD,QAAA,eACrCnG,IAAA,OAAIoG,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAC,2BAAyB,CAAI,CAAC,cAE9DjG,KAAA,QAAKoC,EAAE,CAAC,aAAa,CAAA6D,QAAA,eACnBnG,IAAA,QAAKoG,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAC5BrE,aAAa,CAACc,GAAG,CAAC,CAAAyD,KAAA,CAAyBC,KAAK,GAAK,KAAAC,qBAAA,CAAAC,qBAAA,IAAlC,CAAE3D,GAAG,CAAEjC,MAAM,CAAEE,KAAM,CAAC,CAAAuF,KAAA,CACxC,GAAIvF,KAAK,CAAE,CACT,mBACEZ,KAAA,QAAiBkG,SAAS,+BAAA7F,MAAA,CAAgCsC,GAAG,4CAA2C,CAAAsD,QAAA,eACtGnG,IAAA,OAAIoG,SAAS,CAAC,kDAAkD,CAAAD,QAAA,CAAEtD,GAAG,CAAC4D,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAG7D,GAAG,CAACzB,KAAK,CAAC,CAAC,CAAC,CAAK,CAAC,cAClHpB,IAAA,MAAAmG,QAAA,CAAIrF,KAAK,CAAI,CAAC,GAFNwF,KAGL,CAAC,CAEV,CAEA,KAAM,CAAAK,oBAAoB,CAAG/F,MAAM,CAACgG,iBAAiB,CAACvE,IAAI,CAACwE,IAAI,EAAIA,IAAI,CAACC,cAAc,GAAK,6BAA6B,CAAC,CACzH,KAAM,CAAA7F,WAAW,CAAG0F,oBAAoB,CAAGA,oBAAoB,CAAChB,KAAK,CAAG,0BAA0B,CAClG,KAAM,CAAAoB,oBAAoB,CAAG/F,mBAAmB,CAACC,WAAW,CAAE,GAAG,CAAC,CAClE,KAAM,CAAA+F,UAAU,IAAAzG,MAAA,CAAMqF,MAAM,CAACC,QAAQ,CAACoB,MAAM,MAAA1G,MAAA,CAAI,EAAAgG,qBAAA,CAAA3F,MAAM,CAACgG,iBAAiB,CAACvE,IAAI,CAACwE,IAAI,EAAIA,IAAI,CAACC,cAAc,GAAK,SAAS,CAAC,UAAAP,qBAAA,iBAAxEA,qBAAA,CAA0EZ,KAAK,GAAI,GAAG,MAAApF,MAAA,CAAIK,MAAM,CAACR,GAAG,SAAO,CAE3J,mBACEF,KAAA,QAAiBkG,SAAS,+BAAA7F,MAAA,CAAgCsC,GAAG,4CAA2C,CAAAsD,QAAA,eACtGnG,IAAA,OAAIoG,SAAS,CAAC,kDAAkD,CAAAD,QAAA,CAAEtD,GAAG,CAAC4D,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAAG7D,GAAG,CAACzB,KAAK,CAAC,CAAC,CAAC,CAAK,CAAC,cAClHpB,IAAA,QAAKkH,GAAG,2BAAA3G,MAAA,EAAAiG,qBAAA,CAA4B5F,MAAM,CAACuG,qBAAqB,CAAC,CAAC,CAAC,UAAAX,qBAAA,iBAA/BA,qBAAA,CAAiCY,IAAI,CAAG,CAACC,GAAG,CAAEzG,MAAM,CAAC0G,IAAK,CAAClB,SAAS,CAAC,WAAW,CAAE,CAAC,cACvHpG,IAAA,OAAAmG,QAAA,CAAKvF,MAAM,CAAC0G,IAAI,CAAK,CAAC,cACtBpH,KAAA,MAAAiG,QAAA,EAAG,OAAK,CAACvF,MAAM,CAACR,GAAG,EAAI,CAAC,cACxBJ,IAAA,MAAGoG,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAEY,oBAAoB,CAAI,CAAC,cACrD/G,IAAA,MACEoG,SAAS,CAAC,cAAc,CACxBN,IAAI,CAAEkB,UAAW,CACjBO,MAAM,CAAC,QAAQ,CACfC,GAAG,CAAC,qBAAqB,CAAArB,QAAA,CAC1B,cAED,CAAG,CAAC,GAbIG,KAcL,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,cACNtG,IAAA,QAAKoG,SAAS,CAAC,oDAAoD,CAAAD,QAAA,cACjEjG,KAAA,WAAQuH,OAAO,CAAEvD,kBAAmB,CAACkC,SAAS,CAAC,2CAA2C,CAAAD,QAAA,EAAC,cAEzF,cAAAnG,IAAA,QAAKkH,GAAG,CAAC,oDAAoD,CAACG,GAAG,CAAC,OAAO,CAACjB,SAAS,CAAC,MAAM,CAACsB,KAAK,CAAE,CAAElC,KAAK,CAAE,MAAM,CAAED,MAAM,CAAE,MAAO,CAAE,CAAE,CAAC,EACjI,CAAC,CACN,CAAC,cACNrF,KAAA,QAAKkG,SAAS,CAAC,2CAA2C,CAAAD,QAAA,eAC1DnG,IAAA,OAAIoG,SAAS,CAAC,OAAO,CAAAD,QAAA,CAAC,4BAA0B,CAAI,CAAC,cACnDnG,IAAA,MAAGoG,SAAS,CAAC,OAAO,CAAAD,QAAA,CAAC,2GAAyG,CAAG,CAAC,cAClInG,IAAA,QAAKoG,SAAS,CAAC,2BAA2B,CAAAD,QAAA,cACxCnG,IAAA,QAAKkH,GAAG,CAAEtD,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAE+D,IAAK,CAACN,GAAG,CAAEzD,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAE0D,IAAK,CAAClB,SAAS,CAAC,uDAAuD,CAAC,CAAC,CACvH,CAAC,cACNlG,KAAA,QAAKkG,SAAS,CAAC,0DAA0D,CAAAD,QAAA,eACvEjG,KAAA,MAAGkG,SAAS,CAAC,KAAK,CAAAD,QAAA,eAACnG,IAAA,WAAAmG,QAAA,CAAQ,WAAS,CAAQ,CAAC,IAAC,CAAC1C,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAE6D,IAAI,EAAI,CAAC,cAClEpH,KAAA,MAAGkG,SAAS,CAAC,KAAK,CAAAD,QAAA,eAACnG,IAAA,WAAAmG,QAAA,CAAQ,eAAa,CAAQ,CAAC,IAAC,CAACvC,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAE0D,IAAI,EAAI,CAAC,cAC1EpH,KAAA,MAAGkG,SAAS,CAAC,KAAK,CAAAD,QAAA,eAACnG,IAAA,WAAAmG,QAAA,CAAQ,SAAO,CAAQ,CAAC,IAAC,CAACpC,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEuD,IAAI,EAAI,CAAC,cAC9DpH,KAAA,MAAGkG,SAAS,CAAC,KAAK,CAAAD,QAAA,eAACnG,IAAA,WAAAmG,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAAChE,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEmF,IAAI,EAAI,CAAC,EACzD,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjG,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}