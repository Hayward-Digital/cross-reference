{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import ModelsCard from'./ModelsCard';import ModelDetails from'./ModelDetails';import modelsData from'./models.json';import'./Models.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Models=_ref=>{let{onSelectModel}=_ref;const{seriesId}=useParams();const[selectedModel,setSelectedModel]=useState(null);const[currentPage,setCurrentPage]=useState(1);const[searchTerm,setSearchTerm]=useState('');const modelsPerPage=12;// Número de modelos por página\nuseEffect(()=>{setCurrentPage(1);// Resetear a la primera página al cambiar de serie\n},[seriesId]);const filteredModels=modelsData.models.filter(model=>model.seriesId===parseInt(seriesId)).filter(model=>searchTerm.length<3||model.name.toLowerCase().includes(searchTerm.toLowerCase())||model.sku.toLowerCase().includes(searchTerm.toLowerCase())).sort((a,b)=>a.name.localeCompare(b.name));// Ordenar alfabéticamente por nombre\nconst totalPages=Math.ceil(filteredModels.length/modelsPerPage);const displayedModels=filteredModels.slice((currentPage-1)*modelsPerPage,currentPage*modelsPerPage);const handleSelectModel=model=>{if(Object.keys(model.additionalAttribute).length===0){onSelectModel(model);}else{setSelectedModel(model);}};const handleDeselectModel=()=>{setSelectedModel(null);};const handleConfirmModel=()=>{if(selectedModel){onSelectModel(selectedModel);}};const handleSearchChange=e=>{setSearchTerm(e.target.value);setCurrentPage(1);// Resetear a la primera página en cada búsqueda\n};const handlePageChange=page=>{setCurrentPage(page);setSelectedModel(null);// Deseleccionar modelo al cambiar de página\n};const startModel=(currentPage-1)*modelsPerPage+1;const endModel=Math.min(startModel+modelsPerPage-1,filteredModels.length);return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mb-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex align-items-end\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Select Model\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"We find \",filteredModels.length,\" elements\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 d-flex justify-content-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"filter-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search...\",value:searchTerm,onChange:handleSearchChange,className:\"search-input\"}),/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-search\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex flex-wrap p-2\",children:displayedModels.map(model=>/*#__PURE__*/_jsx(ModelsCard,{model:model,isActive:selectedModel&&selectedModel.id===model.id,onSelect:()=>handleSelectModel(model)},model.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:filteredModels.length>modelsPerPage&&/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"This page: \",startModel,\" - \",endModel,\" of \",filteredModels.length]}),/*#__PURE__*/_jsx(\"div\",{children:Array.from({length:totalPages},(_,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(index+1),className:currentPage===index+1?'active':'',children:index+1},index+1))})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:selectedModel&&/*#__PURE__*/_jsx(\"div\",{className:\"model-details-overlay\",children:/*#__PURE__*/_jsx(ModelDetails,{model:selectedModel,onDeselect:handleDeselectModel,onConfirm:handleConfirmModel})})})]});};export default Models;","map":{"version":3,"names":["React","useState","useEffect","useParams","ModelsCard","ModelDetails","modelsData","jsx","_jsx","jsxs","_jsxs","Models","_ref","onSelectModel","seriesId","selectedModel","setSelectedModel","currentPage","setCurrentPage","searchTerm","setSearchTerm","modelsPerPage","filteredModels","models","filter","model","parseInt","length","name","toLowerCase","includes","sku","sort","a","b","localeCompare","totalPages","Math","ceil","displayedModels","slice","handleSelectModel","Object","keys","additionalAttribute","handleDeselectModel","handleConfirmModel","handleSearchChange","e","target","value","handlePageChange","page","startModel","endModel","min","className","children","type","placeholder","onChange","map","isActive","id","onSelect","Array","from","_","index","onClick","onDeselect","onConfirm"],"sources":["/Users/jrangel/Documents/dev/cross-reference-git/src/modules/models/Models.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport ModelsCard from './ModelsCard';\nimport ModelDetails from './ModelDetails';\nimport modelsData from './models.json';\nimport './Models.css';\n\nconst Models = ({ onSelectModel }) => {\n  const { seriesId } = useParams();\n  const [selectedModel, setSelectedModel] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const modelsPerPage = 12; // Número de modelos por página\n\n  useEffect(() => {\n    setCurrentPage(1); // Resetear a la primera página al cambiar de serie\n  }, [seriesId]);\n\n  const filteredModels = modelsData.models.filter(\n    (model) => model.seriesId === parseInt(seriesId)\n  ).filter(\n    (model) => searchTerm.length < 3 || \n    model.name.toLowerCase().includes(searchTerm.toLowerCase()) || \n    model.sku.toLowerCase().includes(searchTerm.toLowerCase())\n  ).sort((a, b) => a.name.localeCompare(b.name)); // Ordenar alfabéticamente por nombre\n\n  const totalPages = Math.ceil(filteredModels.length / modelsPerPage);\n  const displayedModels = filteredModels.slice((currentPage - 1) * modelsPerPage, currentPage * modelsPerPage);\n\n  const handleSelectModel = (model) => {\n    if (Object.keys(model.additionalAttribute).length === 0) {\n      onSelectModel(model);\n    } else {\n      setSelectedModel(model);\n    }\n  };\n\n  const handleDeselectModel = () => {\n    setSelectedModel(null);\n  };\n\n  const handleConfirmModel = () => {\n    if (selectedModel) {\n      onSelectModel(selectedModel);\n    }\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n    setCurrentPage(1); // Resetear a la primera página en cada búsqueda\n  };\n\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n    setSelectedModel(null); // Deseleccionar modelo al cambiar de página\n  };\n\n  const startModel = (currentPage - 1) * modelsPerPage + 1;\n  const endModel = Math.min(startModel + modelsPerPage - 1, filteredModels.length);\n\n  return (\n    <div className=\"container-fluid mb-5\">\n      <div className=\"row d-flex align-items-end\">\n        <div className=\"col-6\">\n          <h3>Select Model</h3>\n          <p>We find {filteredModels.length} elements</p>\n        </div>\n        <div className=\"col-6 d-flex justify-content-end\">\n          <div className=\"filter-container\">\n            <input\n              type=\"text\"\n              placeholder=\"Search...\"\n              value={searchTerm}\n              onChange={handleSearchChange}\n              className=\"search-input\"\n            />\n            <i className=\"bi bi-search\"></i>\n          </div>  \n        </div>\n      </div>\n      <div className=\"row d-flex flex-wrap p-2\">\n        {displayedModels.map(model => (\n          <ModelsCard\n            key={model.id}\n            model={model}\n            isActive={selectedModel && selectedModel.id === model.id}\n            onSelect={() => handleSelectModel(model)}\n          />\n        ))}\n      </div>\n      <div className=\"row\">\n        <div className='col-12'>\n          {filteredModels.length > modelsPerPage && (\n            <div className=\"pagination\">\n              <span>This page: {startModel} - {endModel} of {filteredModels.length}</span>\n              <div>\n                {Array.from({ length: totalPages }, (_, index) => (\n                  <button\n                    key={index + 1}\n                    onClick={() => handlePageChange(index + 1)}\n                    className={currentPage === index + 1 ? 'active' : ''}\n                  >\n                    {index + 1}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className='row'>\n        {selectedModel && (\n          <div className=\"model-details-overlay\">\n            <ModelDetails model={selectedModel} onDeselect={handleDeselectModel} onConfirm={handleConfirmModel} />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Models;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}